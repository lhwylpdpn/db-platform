{% extends "base.html" %}
{% block content %}
 
<link rel="stylesheet" href="/static/css/bootstrap-table.css">
<link rel="stylesheet" href="/static/css/select2.min.css">
<script src="/static/js/jquery.min.js"></script>
<script src="/static/js/bootstrap-table.js"></script>
<script src="/static/js/bootstrap-table-group-by.js"></script>

<style type="text/css">
.table th, .table td { 
text-align: center;
vertical-align: middle!important;
}
</style>
<script src="/static/js/select2.min.js"></script>
<div class="breadcrumbs ace-save-state" id="breadcrumbs">
    <ul class="breadcrumb">
        <li>
            <i class="ace-icon fa fa-home home-icon"></i>
            <a href="/clac">款项明细</a>
        </li>

        <!--<li>-->
            <!--<a href="#">渠道明细</a>-->
        <!--</li>-->
        <!--<li class="active">iOS-渠道-明细</li>-->
    </ul><!-- /.breadcrumb -->
</div>

<div class="col-xs-12">
                                <!-- PAGE CONTENT BEGINS -->
                                <div class="row">
                                    <div class="col-xs-12">
                                        <h3 class="header smaller lighter green">款项明细报表</h3>
 
                                                                           
                                    </div>
                                </div>
</div><!-- PAGE CONTENT ENDS -->
                
<div class="col-xs-12 col-sm-12 widget-container-col ui-sortable" id="widget-container-col-8">
                                            
                                        <div class="widget-box widget-color-dark ui-sortable-handle" id="widget-box-8">
                                                <div class="widget-header">
                                                    <h5 class="widget-title bigger lighter">W.R</h5>

                                                 

                                                     
                                                <div class="widget-toolbar">

                                                <span class="badge badge-danger">说明</span>

                                                        <a href="#" data-action="settings">
                                                            <i class="ace-icon fa fa-cog"></i>
                                                        </a>

                                                        <a href="#" data-action="reload">
                                                            <i class="ace-icon fa fa-refresh"></i>
                                                        </a>

                                                        <a href="#" data-action="collapse">
                                                            <i class="ace-icon fa fa-chevron-up"></i>
                                                        </a>

 
                                                    </div>
                                                    
                                                </div>

                                                <div class="widget-body">
                                                    <div class="widget-toolbox" id="widget-toolbox-1">
                                                    
                                                        <div class="btn-toolbar">
                                                             
                            
                                            {{ jsons_}}
                                             <div class="btn-group">
                                           <div>
                                                            <select multiple="" name="state" class="select2 tag-input-style select2-hidden-accessible" data-placeholder="请选择归属人" style="min-width: 150px;" tabindex="-1" aria-hidden="true" >
                               
                                                               <option value="">全部</option>
                                                               <option value="">{{ jsons_ }}</option>
                                                            </select>
                                                        </div>
                                            </div>

                     <div class="btn-group">
                                           <div>
                                                            <select multiple="" name="state" class="select2 tag-input-style select2-hidden-accessible" data-placeholder="请选择归属人" style="min-width: 150px;" tabindex="-1" aria-hidden="true">
                               
                                                               <option value="">全部</option>
                                                                
                                                            </select>
                                                        </div>
                                            </div>

                                           <select class="select2 tag-input-style select2-hidden-accessible js-example-data-array-selected"></select>
                                           <div class="btn-group">
                                           <button id="chaxun" class="btn btn-sm btn-inverse" onclick="chaxun();">查询</button>
                                            </div>
                                         

                                            </div>


  

                                                            </div>
    
                                                         
                                                    </div>

                            <table id="table"
               data-toggle="table"
               
               data-row-style="rowStyle">
            <thead>
            <tr>
                <th colspan="9"   ><font size="3" >新疆汇宝</font></th>
                 
            </tr>
            <tr>
                <th class="label-inverse" data-field="trade_id"  data-formatter="mark" ><font size="2" color="#FFD700" class="my-parent-style-good">交易商编号</font></th>
                <th class="label-inverse" data-field="trade_name"  data-formatter="mark" ><font size="2" color="#FFD700">交易商姓名</font></th>
                <th class="label-inverse" data-field="commission" data-formatter="mark" ><font size="2" color="#FFD700">手续费</font></th>
                <th class="label-inverse" data-field="agent_name_1" data-formatter="mark" ><font size="2" color="#FFD700">I级返佣人</font></th>
                <th class="label-inverse" data-field="m_1" data-formatter="mark" ><font size="2" color="#FFD700">I级返佣金额</font></th>
                <th class="label-inverse" data-field="agent_name_2" data-formatter="mark" ><font size="2" color="#FFD700">II级返佣人</font></th>
                <th class="label-inverse" data-field="m_2" data-formatter="mark" ><font size="2" color="#FFD700">II级返佣金额</font></th>
                <th class="label-inverse" data-field="agent_name_3" data-formatter="mark" ><font size="2" color="#FFD700">III级返佣人</font></th>
                <th class="label-inverse" data-field="m_3" data-formatter="mark" ><font size="2" color="#FFD700">III级返佣金额</font></th>
               
            </tr>
            </thead>
        </table>
                                                    </div>
                                                </div>
                                            </div>
                                            </div>

<script>




    $(document).ready(function() {
    $('.select2').select2({multiple:false });
});


    function rowStyle(row, index) {
    
    
            return {
               css:{'background':'#FFFFFF'}
            };
  
    }


    function mark(value,row) {

     
            if (value=="None") {return benchmark("".toString(),"normal")} 
            return benchmark(value.toString(),"normal")
 

    }


</script>

<script>
    var $table = $('#table'),
        $button = $('#button');

    $(function () {
        $button.click(function () {
           
            $table.bootstrapTable('insertRow', {
                index: 100000,
                row: {
                    id: 3,
                    name: '合计',
                    price: '合计'
                }
            });


            $table.bootstrapTable('mergeCells', {
                index: 21,
                field:'name',
                colspan:3
            });
        });
    });



   function chaxun(){



        // var TJ_platform= new Array();
        // var TJ_staff= new Array();
        // var TJ_agnet =new Array();
        // var TJ_channel=new Array();
        // var fromTime = $("#timeFrom").val();
        // var toTime = $("#timeTo").val();

        // var fromTimeCuo = Date.parse(new Date(fromTime));
        // var toTimeCuo = Date.parse(new Date(toTime));
        // var tianshu = (toTimeCuo - fromTimeCuo)/1000/60/60/24;

        // var fromToTime = [fromTime];
        // var flag = fromTimeCuo
        // for (var i = 0 ; i < tianshu ; i++ ){
        //     flag = flag+1000*60*60*24;
        //     fromToTime.push( new Date(flag).Format("yyyy-MM-dd") );
        // }

        // $("#FilterTagSelected [data-platform]").each(function(){TJ_platform.push($(this).text());});
        // $("#FilterTagSelected [data-channel]").each(function(){TJ_channel.push($(this).text());});
        // $("#FilterTagSelected [data-agent]").each(function(){TJ_agnet.push($(this).text());});
        // $("#FilterTagSelected [data-staff]").each(function(){TJ_staff.push($(this).text());});
 

        $("#table").bootstrapTable('refresh',{url: "/detail_json"} );

        // $("#table").bootstrapTable('filterBy',{
        //     date_time : fromToTime,
        // });

        //条件筛选完成后,重新设置 piece chart

       
    }


    function benchmark(context,type){


        switch (type)
        {
        case "good":
          return '<div class="my-parent-style-good"><b>' + context + '</b></div>'

          break;
        case "normal":
          return '<div class="my-parent-style-normal"><b>' + context + '</b></div>'
          break;
        case "bad":
         return '<div class="my-parent-style-bad"><b>' + context + '</b></div>'
          break;
        default:
          return context;

        }


    }

    window.onload=function bilibili(){
     
        $($(".my-parent-style-good").parent("td")).css({ color: "#FFFFFF", background: "#00d9b8" });
        $($(".my-parent-style-normal").parent("td")).css({ color: "#000000", background: "#FFFFFF" });
        $($(".my-parent-style-bad").parent("td")).css({ color: "#000000", background: "#FFFFFF" });

    }
   
</script>



{% endblock content %}